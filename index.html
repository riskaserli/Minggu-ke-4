<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Mahasiswa</title>
</head>

<body>
    <div class="container">
        <label for="nim">Nim:</label>
        <select id="nim_mahasiswa" onclick="pilihNim()">
            <option value="">Pilih Data</option>
            <option value="Muh. Amin">A11.2015.12345</option>
            <option value="Santoso">A11.2015.12346</option>
            <option value="Sutrisno">A11.2015.12347</option>
        </select>

        <br>
        <label>Nama :</label>
        <Input type="text" id="nama_mahasiswa">

        <br>
        <label>Nilai Tugas :</label>
        <Input type="number" id="nilai_tugas" min='1' max='100' placeholder="1-100" required>

        <br>
        <label>Nilai UTS :</label>
        <Input type="number" id="nilai_uts" min='1' max='100' placeholder="1-100" required>

        <br>
        <label>Nilai UAS :</label>
        <Input type="number" id="nilai_uas" min='1' max='100' placeholder="1-100" required>

        <br>
        <label>Nilai Akhir :</label>
        <Input type="text" id="nilai_akhir" readonly>

        <br>
        <button onclick="hitungNilaiAkhir()">Submit</button>

        <p id="table"></p>
    </div>

    <script>
        let data = {}; 

        const pilihNim = () => {
            const valueNimMahasiswa = document.getElementById('nim_mahasiswa').selectedIndex;
            const namaMahasiswa = document.getElementsByTagName("option")[valueNimMahasiswa].value;
            const valueNamaMahasiswa = document.getElementById('nama_mahasiswa');

            valueNamaMahasiswa.value = namaMahasiswa;

            data.nama = valueNamaMahasiswa.value;

            if (valueNamaMahasiswa.value == "Muh. Amin") {
                return data.nim = "A11.2015.12345"
            } else if (valueNamaMahasiswa.value == "Santoso") {
                return data.nim = "A11.2015.12346"
            } else {
                return data.nim = "A11.2015.1234"
            }
        }

        const hitungNilaiAkhir = () => {
            const nilaiTugas = document.getElementById('nilai_tugas');
            const nilaiUts = document.getElementById('nilai_uts');
            const nilaiUas = document.getElementById('nilai_uas');
            const nilaiAkhir = document.getElementById('nilai_akhir');

            let valueNilaiTugas = nilaiTugas.value;
            let valueNilaiUts = nilaiUts.value;
            let valueNilaiUas = nilaiUas.value;

            let hasil = (0.4 * valueNilaiTugas) + (0.3 * valueNilaiUts) + (0.3 * valueNilaiUas);

            nilaiAkhir.value = hasil;

            data.hasil = hasil;

            const table = document.getElementById('table');
            table.innerHTML =
                `<table border=4>
                    <tr>
                        <th>NIM</th>
                        <th>Nama</th>
                        <th>Nilai Akhir</th>
                        <th>Status</th>
                    </tr>
                    <tr>
                        <td>${data.nim}</td> 
                        <td>${data.nama}</td>   
                        <td>${data.hasil}</td>
                        <td>${hasil > 60 ? 'LULUS' : 'TIDAK LULUS'}</td>
                    </tr>
                </table>`
        }
    </script>
</body>

</html>